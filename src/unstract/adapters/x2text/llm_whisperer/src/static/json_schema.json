{
  "title": "LLM Whisperer X2Text",
  "type": "object",
  "required": [
    "adapter_name",
    "url"
  ],
  "properties": {
    "adapter_name": {
      "type": "string",
      "title": "X2Text Adapter ID",
      "default": "",
      "description": "Provide a unique name for this adapter instance. Example: LLM Whisperer 1"
    },
    "url": {
      "type": "string",
      "title": "URL",
      "format": "uri",
      "default": "http://unstract-llm-whisperer:3005",
      "description": "Provide the URL of the LLM Whisperer server."
    },
    "processing_mode": {
      "type": "string",
      "title": "Processing Mode",
      "enum": ["text", "ocr"],
      "default": "text",
      "description": "Text mode tries to extract text from PDF and falls to OCR if the PDF is a scanned image PDF. This should be your default selection. Use OCR mode if you want to force OCR to extract text. This could be useful if you are dealing with malformed PDFs."
    },
    "output_mode": {
      "type": "string",
      "title": "Output Mode",
      "enum": ["line-printer", "text-dump"],
      "default": "line-printer",
      "description": "Line printer mode tries to maintain the layout of the original document. This should be your default option. If the document contains tables and other complex layouts this option works very well with large LLMs. Text dump mode extracts all the text without considering layout."
    }
  },
  "if":{
    "properties": {
      "processing_mode": { "const":"ocr" }
    }
  },
  "then": {
    "properties": {
      "median_filter_size": {
        "type": "integer",
        "title": "Median Filter Size",
        "default": 3,
        "description": "The size of the median filter to use for pre-processing the image during OCR based extraction. Useful to eliminate scanning artifacts and low quality JPEG artifacts. Default is 3 if the value is not explicitly set."
      },
      "gaussian_blur_radius": {
        "type": "number",
        "title": "Gaussian Blur Radius",
        "default": 1.0,
        "description": "The radius of the gaussian blur to use for pre-processing the image during OCR based extraction. Useful to eliminate noise from the image. Default is 1.0 if the value is not explicitly set."
      }
    }
  }
}
